<div class="page-header">
  <button class="back-btn" (click)="goBack()">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="15 18 9 12 15 6"/>
    </svg>
  </button>
  <div>
    <h1>Exit Form</h1>
    <p class="subtitle">Rimadhiya Makiptono &nbsp;·&nbsp; CLT-MM158KUA-PG0O</p>
  </div>
</div>

<form #f="ngForm" (ngSubmit)="submit(f)" novalidate>

<section class="card">
  <h2>Exit Details</h2>

  <div class="form-field" [class.has-error]="exitType.invalid && exitType.touched">
    <label>Exit Type *</label>
    <select name="exitType" #exitType="ngModel" [(ngModel)]="model.exitType" required>
      <option value="">Select exit type</option>
      <option value="completed">Completed Program</option>
      <option value="withdrawn">Withdrawn</option>
      <option value="other">Other</option>
    </select>
    <span class="field-error" *ngIf="exitType.invalid && exitType.touched">This field is required</span>
  </div>

  <div class="form-field" [class.has-error]="reason.invalid && reason.touched">
    <label>Reason for Exit *</label>
    <textarea name="reason" #reason="ngModel" [(ngModel)]="model.reason" required rows="3" placeholder="Describe the reason for exit..."></textarea>
    <span class="field-error" *ngIf="reason.invalid && reason.touched">This field is required</span>
  </div>
</section>

<section class="card">
  <h2>Exit Planning</h2>

  <div class="form-field">
    <label>Exit / Transition Plan</label>
    <textarea name="transitionPlan" [(ngModel)]="model.transitionPlan" rows="4" placeholder="Post-exit support plan..."></textarea>
  </div>

  <div class="form-field">
    <label>Referrals</label>
    <textarea name="referrals" [(ngModel)]="model.referrals" rows="4" placeholder="Any referrals to other services..."></textarea>
  </div>

  <div class="form-field">
    <label>Final Notes</label>
    <textarea name="finalNotes" [(ngModel)]="model.finalNotes" rows="4" placeholder="Any additional notes..."></textarea>
  </div>
</section>

<div class="form-actions">
  <button class="secondary-btn" type="button" (click)="goBack()">Cancel</button>
  <button class="primary-btn submit-btn" type="submit" [disabled]="submitted">
    <svg *ngIf="!submitted" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
      <polyline points="20 6 9 17 4 12"/>
    </svg>
    {{ submitted ? 'Submitting…' : 'Submit Exit' }}
  </button>
</div>

</form>
